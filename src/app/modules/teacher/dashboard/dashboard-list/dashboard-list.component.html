<main>
  <header class="p-5 bg-slate-100">
    <div class="flex gap-5 items-center">
      <p class="text-[26px]">แผงควบคุม</p>
      <i class="fa-solid fa-gauge fa-bounce fa-xl"></i>
      <span class="mt-[11px] text-slate-400">แผงควบคุม</span>
    </div>
    <div class="pt-5">
      <div>
        <p class="ml-3">คำร้องขอ</p>
      </div>
      <div class="flex justify-center items-center gap-5">
        <div class="grid gap-4 mt-2  p-5 rounded-md shadow-md w-full bg-[#fff] border-[1px] border-[#650DAD]">
          <div>
            <p>รอการอนุมัติ & ตรวจสอบเอกสาร</p>
            <ng-container *ngIf="data_approved_status_false$ | async as data">
              <div class="text-center">
                <p class="text-[50px]">
                  {{ data.length }}
                </p>
              </div>
            </ng-container>
          </div>
        </div>
        <div class="grid gap-4 mt-2  p-5 rounded-md shadow-md w-full bg-[#fff] border-[1px] border-[#650DAD]">
          <div>
            <p>รอการอนุมัติ & สถานประกอบการ & นิสิต</p>
            <ng-container *ngIf="data_approved_status_true$ | async as data">
              <div class="text-center">
                <p class="text-[50px]">
                  {{ data.length }}
                </p>
              </div>
            </ng-container>
          </div>
        </div>
        <div class="grid gap-4 mt-2  p-5 rounded-md shadow-md w-full bg-[#fff] border-[1px] border-[#650DAD]">
          <div>
            <p>ปฏิเสธคำร้อง & ยกเลิกคำร้อง</p>
            <ng-container *ngIf="data_is_cancel_status_true$ | async as data">
              <div class="text-center">
                <p class="text-[50px]">
                  {{ data.length }}
                </p>
              </div>
            </ng-container>
          </div>
        </div>
        <div class="grid gap-4 mt-2  p-5 rounded-md shadow-md w-full bg-[#fff] border-[1px] border-[#650DAD]">
          <ng-container *ngIf="data_approved_status_false$ | async as data">
            <div>
              <p>ทั้งหมด</p>
              <div class="text-center">
                <p class="text-[50px]"> {{ data.length }}</p>
              </div>
            </div>
          </ng-container>
        </div>
      </div>
    </div>
  </header>
  <div class="flex gap-5 items-center px-5 py-2 bg-slate-100">
    <p class="text-[18px]">การเเจ้งเตือน</p>
    <i class="fa-solid fa-bell fa-shake fa-xl"></i>
  </div>

  <body class="grid gap-5">

    <body>
      <ng-container *ngIf="data_approved_status_false$ | async as data">
        <table class="table">
          <thead>
            <tr class="bg-slate-100">
              <th class="w-[5%]"> ลำดับ </th>
              <th class="w-[15%]"> วันที่่ส่งเอกสาร </th>
              <th class="w-[10%]"> รหัสนิสิต </th>
              <th class="w-[15%]" colspan="2"> ชื่อ - นามสกุล </th>
              <th class="w-[15%]"> สถานประกอบการ </th>
              <th class="w-[20%]" colspan="2"> ช่องทางการติดต่อ </th>
              <th class="w-[20%]"> จัดการ </th>
            </tr>
          </thead>
          <tbody *ngFor="let item of data; let i = index">
            <tr>
              <td> {{ i + 1 }} </td>
              <td> {{ item.is_petition_date_approve }} {{item.is_petition_time_approve}} </td>
              <td> {{ item.student_code }} </td>
              <td> {{ item.name }} </td>
              <td> {{ item.surname }} </td>
              <td> {{ item.company }} </td>
              <td> {{ item.phone_number }} </td>
              <td> {{ item.email }} </td>
              <td class="text-center" [colSpan]="1">
                <div class="flex gap-5 justify-center items-center col-span-2">
                  <!-- <button class="shadow-md rounded-md h-[40px] px-1 bg-blue-400 hover:bg-blue-500 cursor-pointer"
                    style="transition: 0.5s">
                    <div class="flex justify-center items-center gap-2">
                      <i class="fa-solid fa-magnifying-glass fa-xl" style="color: #fff;"></i>
                      <p class="text-slate-100">รายละเอียด</p>
                    </div>
                  </button> -->
                  <button (click)="DoCancelApprovePetition(item)"
                    class="shadow-md rounded-md h-[40px] px-1 bg-red-400 hover:bg-red-500 cursor-pointer"
                    style="transition: 0.5s">
                    <div class="flex justify-center items-center gap-2">
                      <i class="fa-solid fa-circle-minus fa-xl" style="color: #fff;"></i>
                      <p class="text-slate-100">ปฎิเสธ</p>
                    </div>
                  </button>
                  <button (click)="DoApproveReportPetition(item)"
                    class="shadow-md rounded-md h-[40px] px-1 bg-green-500 hover:bg-green-600 cursor-pointer"
                    style="transition: 0.5s">
                    <div class="flex justify-center items-center gap-2">
                      <i class="fa-solid fa-circle-check fa-bounce fa-xl" style="color: #fff;"></i>
                      <p class="text-slate-100">อนุมัติ</p>
                    </div>
                  </button>
                  <!-- <button (click)="DoResetToFalse(item)"
                    class="shadow-md rounded-md h-[40px] px-1 bg-yellow-500 hover:bg-yellow-600 cursor-pointer"
                    style="transition: 0.5s">
                    <div class="flex justify-center items-center gap-2">
                      <i class="fa-solid fa-recycle fa-spin fa-xl" style="color: #fff;"></i>
                      <p class="text-slate-100">รีเซ็ต</p>
                    </div>
                  </button> -->
                </div>
              </td>
            </tr>
          </tbody>
          <ng-container *ngIf="data_approved_status_false$ | async as data">
            <td *ngIf="data.length == 0" colspan="9">ไม่พบข้อมูล</td>
          </ng-container>
        </table>
      </ng-container>
    </body>

  </body>
  <footer></footer>
</main>
