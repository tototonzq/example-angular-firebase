<main class="p-10">
  <header>
    <div class="flex gap-2">
      <p class="text-[26px]">ตรวจสอบคำร้อง</p>
      <span class="mt-[11px] text-slate-400">ตรวจสอบคำร้อง</span>
    </div>
  </header>

  <body class="grid gap-5 mt-10">
    <p>ตรวจสอบคำร้อง</p>
    <div>
      <div class="flex gap-2">
        <div class="w-full">
          <input type="text" class="border-[1px]" placeholder="ค้นหา" [(ngModel)]="searchFilter">
        </div>
      </div>
    </div>
    <div class="border-x-[1px] border-t-[1px] rounded-md">
      <ng-container *ngIf="data_user_petition$ | async as data">
        <table class="table">
          <thead>
            <tr class="bg-slate-100">
              <th> ลำดับ </th>
              <th> รอบที่สมัคร </th>
              <th> ชื่อสถานที่ฝึกงาน </th>
              <th> ที่อยู่สถานที่ฝึกงาน </th>
              <th> สถานะการตรวจสอบ </th>
              <th> สถานะสถานประกอบการ </th>
              <th> สถานะ</th>
              <th> จัดการ </th>
            </tr>
          </thead>
          <tbody *ngFor="let item of data | filter:searchFilter ; let i = index">
            <tr [ngClass]="{'bg-red-200': item.is_cancel === true, 'hover:bg-slate-100': item.is_cancel !== true}">
              <td> {{ i + 1 }} </td>
              <td class="font-bold text-red-500"> {{ getPetitionRound(item.round_petition) }} </td>
              <td> {{ item.company }} </td>
              <td> {{ item.company_details }} </td>
              <td> {{ getStatus(item.status_approved_report) }} </td>
              <td> {{ getStatus(item.status_approved_company) }} </td>
              <td class="font-bold text-green-500"> {{ getStatusMultiApprove(item.status_approved_report,
                item.status_approved_company,
                item.is_cancel) }} </td>
              <td class="text-center" [colSpan]="1">
                <div class="flex gap-5 justify-center items-center">
                  <div class="shadow-md rounded-md h-[40px] px-5 bg-blue-300 hover:bg-blue-500 cursor-pointer"
                    style="transition: 0.5s">
                    <div class="pt-2">
                      <i class="fa-solid fa-circle-info fa-xl" style="color: #fff;"></i>
                    </div>
                  </div>
                  <div *ngIf="(item.status_approved_company === true)"
                    class="shadow-md rounded-md h-[40px] px-5 bg-red-300 hover:bg-red-500 cursor-pointer"
                    style="transition: 0.5s">
                    <div class="pt-2">
                      <i class="fa-solid fa-circle-minus fa-xl" style="color: #fff;"></i>
                    </div>
                  </div>
                  <div class="shadow-md rounded-md h-[40px] px-5 bg-red-300 hover:bg-red-500 cursor-pointer"
                    (click)="cancelPetition(item)" style="transition: 0.5s" *ngIf="item.is_cancel !== true">
                    <div class="pt-2">
                      <span class="text-slate-50">ยกเลิก</span>
                      <!-- <i class="fa-solid fa-circle-minus fa-xl" style="color: #fff;"></i> -->
                    </div>
                  </div>
                  <div class="shadow-md rounded-md h-[40px] px-5 bg-red-300 hover:bg-red-500 cursor-pointer"
                    (click)="deletePetition(item)" style="transition: 0.5s">
                    <div class="pt-2">
                      <!-- <i class="fa-solid fa-circle-minus fa-xl" style="color: #fff;"></i> -->
                      <span class="text-slate-50">ลบ</span>
                    </div>
                  </div>
                  <div class="shadow-md rounded-md h-[40px] px-5 bg-red-300 hover:bg-red-500 cursor-pointer"
                    style="transition: 0.5s" *ngIf="item.is_cancel === true">
                    <div class="pt-2">
                      <i class="fa-solid fa-lock fa-shake fa-xl" style="color: #fff;"></i>
                    </div>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
          <!-- <tbody *ngIf="((data.length === 0)&&(isCheckedStatusGetAllUsers !== false))">
            <td [colSpan]="9">ไม่พบข้อมูล .</td>
          </tbody> -->
        </table>
        <!-- <ng-container *ngIf="((data.length === 0)&&(isCheckedStatusGetAllUsers === false))">
          <div class="w-[5rem] justify-center items-center m-auto py-[30vh]">
            <app-loaders></app-loaders>
          </div>
        </ng-container> -->
        <!-- <hr *ngIf="isCheckedStatusGetAllUsers === false"> -->
      </ng-container>
    </div>
    <div>
      <div class="flex justify-between">
        <!-- <div class="justify-center items-center flex">
          <p> <span class="font-bold"> หน้า </span> <span class="text-[20px]">[ {{ page }} ]</span>
            <span
              class="font-bold"> รายการทั้งหมด </span> <span class="text-[20px]">[ {{
              data.length }} ]</span>
            แสดง 1 - 10 จาก 3 หน้า 3
          </p>
        </div> -->
        <!-- <div class="flex gap-5">
          <button class="h-[3rem] w-[10rem] bg-slate-100 hover:bg-slate-200" style="transition: 0.5s;"
            (click)="page = page - 1" [disabled]="page === 1">หน้าก่อนหน้า</button>
          <button class="h-[3rem] w-[10rem] bg-slate-100 hover:bg-slate-200" style="transition: 0.5s;"
            (click)="page = page + 1" [disabled]="page * pageSize >= (data$ | async).length">หน้าถัดไป</button>
        </div> -->
      </div>
    </div>
  </body>

  <footer>
  </footer>

  <!-- <ng-container *ngIf="isCheckedStatusGetAllUsers !== false">
    <app-loaders-screen *ngIf="isCheckedStatusDelete === true"></app-loaders-screen>
  </ng-container> -->
</main>
